<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery CSS Manipulation</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <!-- TODO: Add in the jQuery script  -->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

</head>

<body>

    <h2>Change CSS Properties with jQuery</h2>

    <div class="box" id="box1">
        <p class="text-element">Text 1</p>
        <button class="btn">Change Color</button>
    </div>

    <div class="box" id="box2">
        <p class="text-element">Text 2</p>
        <button class="btn">Increase Font Size</button>
    </div>

    <div class="box" id="box3">
        <p class="text-element">Text 3</p>
        <button class="btn-start">Start</button>
        <button class="btn-stop">Stop</button>

    </div>

    <div class="box" id="box4">
        <p class="text-element">Text 4</p>
        <button class="btn">Italicize Text</button>
    </div>

    <script>
        $(document).ready(function () {
            // Change text color to red for the first box
            $('#box1').click(function () {
                $('#box1').css('color', 'red');
            });

            // TODO: Increase font size for the second box
            $('#box2').click(function () {
                $('#box2 .text-element').css('fontSize', '2rem');
            });

            $('#box2').click(function () {
                $('#box2').css('color', 'red');
            });

            $('#box2').click(function () {
                $('#box2').css('color', 'red');
            });

            // TODO: Change background color for the third box
            // $('#box3').click(function () {
            //     $('#box3').css('backgroundColor', 'pink');
            // });

            // TODO: Italicize text for all the text elements
            $('#box4').click(function () {
                $('.text-element').css('fontStyle', 'italic');
            });

            // var color = ["red", "blue"];

            // $("#container .square").each(function (i) {
            //     $(this).css('background', color[i])
            // })


            let policeLights;
            let isLightsRunning = false;
            $('#box3 .btn-start').click(function () {
                let duration = 2 * 60 * 1000;
                let intervalTime = 500; // every 500 milliseconds next flash happens
                let elapsedTime = 0;
                isLightsRunning = true;
                let policeLights = setInterval(function () {
                    $('#box3').effect("highlight", { color: "red" }, intervalTime / 2, function () {
                        $('#box3').effect("hightlight", { color: "blue" }, intervalTime / 2);
                    });

                    elapsedTime += intervalTime;
                    if (elapsedTime >= duration) {
                        clearInterval(policeLights);
                        isLightsRunning = false;
                    }
                }, intervalTime) // loops until it meets the interval time
            });

            $('#box3 .btn-stop').click(function () {
                clearInterval(policeLights);
                $('#box3').css('background-color', "");
                isLightsRunning = false;
            })

            // $('#box4 .btn').click(function () {

            // })
        })

    </script>

</body>

</html>